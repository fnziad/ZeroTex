# Resume Builder - Copilot Instructions

## Project Overview

A LaTeX-based resume builder that allows users to create professional resumes without writing LaTeX code. Users fill out forms, see live previews, and can download PDF or .tex files, or open directly in Overleaf.

## Core Philosophy

- **Single Template**: Use Fahad's existing `resume.tex` as the base template (no multiple template options)
- **Dynamic Sections**: Allow users to add/remove/reorder sections as needed
- **LaTeX Quality**: Generate clean, professional LaTeX code that compiles correctly
- **User-Friendly**: No LaTeX knowledge required - just fill forms and see results
- **Flexibility**: Support custom sections beyond the default ones

## Key Features

### 1. Form-Based Data Entry

- Personal Information (name, contact, location, links)
- Education (multiple entries with institution, degree, dates, GPA, etc.)
- Research Interests (free text field)
- Research & Development Experience (project-based entries)
- Leadership & Professional Experience (traditional work experience)
- Technical Skills (categorized: Languages, AI/Data Science, Web Dev, Databases, Tools, etc.)
- Awards & Recognitions (categorized list)
- Personal Interests (free text)
- Custom Sections (user can create any section with title and content)

### 2. Section Management

- Add new sections dynamically
- Remove unwanted sections
- Reorder sections via drag-and-drop
- Toggle section visibility
- Each section has its own form component

### 3. Live Preview

- Real-time HTML preview mimicking LaTeX output
- Shows exactly how the PDF will look
- Updates as user types (with debouncing for performance)

### 4. Export Options

- **Download PDF**: Generate and download PDF directly in browser
- **Download .tex**: Get the LaTeX source file
- **Open in Overleaf**: One-click to open project in Overleaf for compilation

## Technical Stack

- **Framework**: Next.js 15 with App Router
- **UI**: shadcn/ui components with Tailwind CSS
- **Language**: TypeScript
- **PDF Generation**: Browser-based (jsPDF or similar)
- **LaTeX Generation**: Custom template system based on user's resume.tex

## File Structure

```
app/
  builder/
    page.tsx           # Main builder interface (simplified - no template selector)
components/
  resume/
    personal-info-form.tsx
    education-form.tsx
    research-interests-form.tsx
    research-experience-form.tsx
    experience-form.tsx
    skills-form.tsx
    awards-form.tsx
    interests-form.tsx
    custom-section-form.tsx
    section-manager.tsx    # NEW: Manage sections (add/remove/reorder)
    resume-preview.tsx     # Live HTML preview
lib/
  resume-types.ts        # TypeScript interfaces for all data
  latex-generator.ts     # Generate LaTeX from user's template style
  browser-pdf-generator.ts
  templates.ts           # REMOVE: Not needed anymore
resume.tex               # User's original template (reference)
```

## Data Structure

### ResumeData Interface

```typescript
interface ResumeData {
  personal: PersonalInfo;
  sections: ResumeSection[]; // Dynamic sections array
}

interface PersonalInfo {
  fullName: string;
  location: string;
  phone: string;
  email: string;
  linkedin: string;
  github: string;
  website?: string;
}

interface ResumeSection {
  id: string;
  type: SectionType;
  title: string;
  order: number;
  visible: boolean;
  data: any; // Flexible data structure based on type
}

type SectionType =
  | "education"
  | "research-interests"
  | "research-experience"
  | "experience"
  | "skills"
  | "awards"
  | "interests"
  | "custom";

interface EducationEntry {
  institution: string;
  location: string;
  degree: string;
  gpa?: string;
  startDate: string;
  endDate: string;
  thesis?: string;
  coursework?: string;
}

interface ResearchExperience {
  role: string;
  project: string;
  status?: string;
  course?: string;
  bullets: string[];
}

interface Experience {
  organization: string;
  location: string;
  position: string;
  startDate: string;
  endDate: string;
  bullets: string[];
}

interface Skills {
  categories: SkillCategory[];
}

interface SkillCategory {
  name: string;
  items: string;
}

interface Awards {
  categories: AwardCategory[];
}

interface AwardCategory {
  title: string;
  items: string[];
}
```

## LaTeX Generation Rules

### 1. Document Structure (Based on resume.tex)

- Use article class with 11pt font
- Geometry: left=1.06cm, top=1.7cm, right=1.06cm, bottom=0.49cm
- Packages: graphicx, hyperref, enumitem, inputenc, fontenc, geometry
- No indentation (\setlength{\parindent}{0pt})

### 2. Header Format

```latex
\begin{center}
    \textbf{\Large [Full Name]}\\
    \hrulefill
\end{center}
\begin{center}
    [Location] \textbullet \ [Phone] \textbullet \ [Email] \\
    \href{[LinkedIn URL]}{LinkedIn: [handle]} \textbullet \ \href{[GitHub URL]}{GitHub: [username]}
\end{center}
```

### 3. Section Headers

```latex
\vspace{6pt}
\noindent\rule{\textwidth}{0.5pt}
\vspace{4pt}
\begin{center}
    \textbf{[Section Title]}
\end{center}
```

or for inline underline style:

```latex
\begin{center}
    \textbf{\underline{[Section Title]}}
\end{center}
```

### 4. Education Format

```latex
\textbf{[Institution]} \hfill [Location] \\
[Degree], [GPA] \hfill [Expected/Graduation Date] \\
\textit{[Additional Info]:} [Details]
```

### 5. Experience/Research Format

```latex
\textbf{[Role/Position]} \hfill [Date/Status] \\
\textbf{[Project/Organization Name]}
\begin{itemize}[noitemsep, topsep=0pt, partopsep=0pt, parsep=0pt]
    \item [Bullet point 1]
    \item [Bullet point 2]
\end{itemize}
```

### 6. Skills Format

```latex
\textbf{[Category]:} [Comma-separated items] \\
```

### 7. Special Characters Escaping

- Escape: & % $ # \_ { } ~ ^ \
- Use \textbackslash{} for backslash
- Use \textasciitilde{} for tilde
- Use \textasciicircum{} for caret

## UI/UX Guidelines

### Builder Layout

```
┌─────────────────────────────────────────────────────┐
│                    Header/Nav                        │
├──────────────────────┬──────────────────────────────┤
│                      │                              │
│   Section Manager    │                              │
│   (Left Sidebar)     │      Live Preview           │
│                      │      (Right Panel)          │
│   ┌──────────────┐   │                              │
│   │ Add Section  │   │                              │
│   └──────────────┘   │                              │
│                      │                              │
│   ☰ Personal Info    │                              │
│   ☰ Education        │                              │
│   ☰ Research Int.    │                              │
│   ☰ Experience       │                              │
│   + Add Section      │                              │
│                      │                              │
│   [Form Area Below]  │                              │
│                      │                              │
└──────────────────────┴──────────────────────────────┘
```

### Section Manager Features

- Click section to show its form below
- Drag handle (☰) to reorder sections
- Eye icon to toggle visibility
- Trash icon to remove section
- "Add Section" button to create new sections

### Form Design

- Use shadcn/ui components (Input, Textarea, Button, Card, etc.)
- Auto-save to localStorage every 2 seconds
- Clear validation messages
- Add/Remove buttons for array fields (education, experience, etc.)

### Preview Panel

- Styled to look like LaTeX output
- Use monospace/serif fonts
- Proper spacing and alignment
- Responsive to form changes

## Export Implementation

### PDF Generation

- Use browser-based PDF generation
- Render preview HTML to PDF using jsPDF or html2pdf
- Maintain LaTeX-like styling and spacing

### LaTeX File Download

- Generate .tex file from template
- Proper escaping of special characters
- Clean, compilable code
- Download as `[FirstName]_[LastName]_Resume.tex`

### Overleaf Integration

- POST LaTeX code to Overleaf API
- Open in new tab
- Handle auth if needed
- Fallback: Show LaTeX code with copy button

## Development Priorities

### Phase 1: Core Structure ✓

- [x] Set up Next.js project
- [x] Install dependencies
- [x] Configure shadcn/ui

### Phase 2: Data & Forms

- [ ] Update resume-types.ts with new structure
- [ ] Create section manager component
- [ ] Build individual form components
- [ ] Implement add/remove/reorder functionality

### Phase 3: LaTeX Generation

- [ ] Rewrite latex-generator.ts based on user's template
- [ ] Implement proper character escaping
- [ ] Test with various inputs
- [ ] Ensure compilable output

### Phase 4: Preview & Export

- [ ] Create HTML preview matching LaTeX style
- [ ] Implement PDF generation
- [ ] Add .tex file download
- [ ] Integrate Overleaf export

### Phase 5: Polish

- [ ] Add auto-save with localStorage
- [ ] Implement drag-and-drop reordering
- [ ] Add data validation
- [ ] Create help/documentation
- [ ] Test on different browsers

## Code Style Guidelines

- Use TypeScript strict mode
- Functional components with hooks
- Descriptive variable names
- Comments for complex logic
- Extract reusable components
- Keep components under 300 lines
- Use proper TypeScript types (no `any` unless necessary)

## Testing Checklist

- [ ] All sections can be added/removed
- [ ] Drag-and-drop reordering works
- [ ] Forms validate properly
- [ ] Preview updates in real-time
- [ ] LaTeX compiles without errors
- [ ] PDF downloads correctly
- [ ] .tex file downloads correctly
- [ ] Overleaf integration works
- [ ] Data persists in localStorage
- [ ] Mobile responsive

## Common Issues & Solutions

### Issue: Preview not updating

- Solution: Check debounce timing, ensure state updates properly

### Issue: LaTeX compilation errors

- Solution: Verify character escaping, check for unmatched braces

### Issue: PDF doesn't match preview

- Solution: Ensure consistent styling between HTML and PDF generation

### Issue: Section reordering not working

- Solution: Check drag-and-drop library integration, verify order state updates

## Resources

- [LaTeX Documentation](https://www.latex-project.org/help/documentation/)
- [shadcn/ui Components](https://ui.shadcn.com/)
- [Next.js App Router](https://nextjs.org/docs/app)
- [Overleaf API](https://www.overleaf.com/devs)

## Notes

- Keep it simple and focused
- LaTeX quality is priority #1
- User experience should be intuitive
- No template switching - one solid template
- Performance matters - debounce preview updates
- Accessibility - use semantic HTML, ARIA labels
