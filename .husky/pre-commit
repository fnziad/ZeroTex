#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Â© 2025 Fahad Nadim Ziad â€” https://github.com/fnziad

echo "ğŸ” Running pre-commit checks..."

# Check copyright headers
echo "ğŸ“ Checking copyright headers..."
npm run check-headers || exit 1

# Run detect-secrets if available
if command -v detect-secrets &> /dev/null; then
  echo "ğŸ” Scanning for secrets..."
  detect-secrets-hook --baseline .secrets.baseline || exit 1
else
  echo "âš ï¸  detect-secrets not installed (optional)"
fi

# Run linter
echo "ğŸ§¹ Running linter..."
npm run lint || exit 1

echo "âœ… Pre-commit checks passed!"
